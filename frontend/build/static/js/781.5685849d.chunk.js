"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[781],{781:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var r=s(43),a=s(555),i=s(292),d=s(579);const n=e=>{let{existingTask:t,closeForm:s}=e;const{createTask:n,updateTask:l}=(0,r.useContext)(i.j),[o,c]=(0,r.useState)(t||{title:"",description:"",status:"Pending",priority:"Medium",due_date:""});return(0,d.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t?l(t.id,o):n(o),s&&s()},className:"bg-white p-4 shadow-lg rounded-md border border-gray-200",children:[(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),(0,d.jsx)("input",{type:"text",value:o.title,onChange:e=>c((0,a.A)((0,a.A)({},o),{},{title:e.target.value})),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,d.jsx)("textarea",{value:o.description,onChange:e=>c((0,a.A)((0,a.A)({},o),{},{description:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Priority"}),(0,d.jsxs)("select",{value:o.priority,onChange:e=>c((0,a.A)((0,a.A)({},o),{},{priority:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",children:[(0,d.jsx)("option",{value:"Low",children:"Low"}),(0,d.jsx)("option",{value:"Medium",children:"Medium"}),(0,d.jsx)("option",{value:"High",children:"High"})]})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Due Date"}),(0,d.jsx)("input",{type:"date",value:o.due_date,onChange:e=>c((0,a.A)((0,a.A)({},o),{},{due_date:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),(0,d.jsx)("div",{className:"flex justify-end",children:(0,d.jsx)("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded shadow-md",children:t?"Update Task":"Add Task"})})]})},l=e=>{let{task:t}=e;const{deleteTask:s,updateTask:a}=(0,r.useContext)(i.j),[l,o]=(0,r.useState)(!1);return(0,d.jsx)("li",{className:"bg-white p-4 shadow-lg rounded-md border border-gray-200",children:l?(0,d.jsx)(n,{existingTask:t,closeForm:()=>{o(!1)}}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("h3",{className:"font-bold text-lg text-gray-700",children:t.title}),(0,d.jsx)("button",{onClick:()=>{o(!0)},className:"text-blue-500 hover:text-blue-700",title:"Edit Task",children:"\u270f\ufe0f"})]}),(0,d.jsx)("p",{className:"text-gray-600",children:t.description}),(0,d.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["Priority: ",(0,d.jsx)("span",{className:"font-medium",children:t.priority})]}),(0,d.jsxs)("p",{className:"text-sm text-gray-500",children:["Due: ",(0,d.jsx)("span",{className:"font-medium",children:(e=>{if(!e)return"No due date";const t=new Date(e);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}).format(t)})(t.due_date)})]}),(0,d.jsxs)("div",{className:"mt-4 flex justify-between items-center",children:[(0,d.jsxs)("button",{onClick:()=>{a(t.id,{status:"Pending"===t.status?"Done":"Pending"})},className:"px-3 py-1 rounded text-white ".concat("Pending"===t.status?"bg-yellow-500 hover:bg-yellow-600":"bg-green-500 hover:bg-green-600"),children:["Mark as ","Pending"===t.status?"Done":"Pending"]}),(0,d.jsx)("button",{onClick:()=>s(t.id),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded",children:"Delete"})]})]})})},o=()=>{const{tasks:e,loading:t,error:s}=(0,r.useContext)(i.j),[o,c]=(0,r.useState)(!1),[u,x]=(0,r.useState)({status:"",priority:"",dueDate:""}),[m,h]=(0,r.useState)({criteria:"",direction:"asc"}),p=e.filter((e=>{const t=!u.status||e.status===u.status,s=!u.priority||e.priority===u.priority,r=!u.dueDate||e.due_date.startsWith(u.dueDate);return t&&s&&r})).sort(((e,t)=>{const s="asc"===m.direction?1:-1;if("dueDate"===m.criteria)return s*(new Date(e.due_date)-new Date(t.due_date));if("priority"===m.criteria){const r={High:1,Medium:2,Low:3};return s*(r[e.priority]-r[t.priority])}return"status"===m.criteria?s*e.status.localeCompare(t.status):0}));return(0,d.jsxs)("div",{className:"max-w-4xl mx-auto p-4",children:[(0,d.jsx)("h1",{className:"text-2xl font-bold text-center mb-4",children:"Task Dashboard"}),(0,d.jsx)("button",{onClick:()=>c(!o),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded shadow-md",children:o?"Cancel":"Add Task"}),o&&(0,d.jsx)("div",{className:"mt-4",children:(0,d.jsx)(n,{closeForm:()=>c(!1)})}),(0,d.jsxs)("div",{className:"flex flex-wrap justify-between items-center mt-6 gap-4",children:[(0,d.jsxs)("div",{className:"flex gap-4",children:[(0,d.jsxs)("select",{value:u.status,onChange:e=>x((0,a.A)((0,a.A)({},u),{},{status:e.target.value})),className:"border border-gray-300 rounded px-3 py-2",children:[(0,d.jsx)("option",{value:"",children:"All Status"}),(0,d.jsx)("option",{value:"Done",children:"Done"}),(0,d.jsx)("option",{value:"Pending",children:"Pending"})]}),(0,d.jsxs)("select",{value:u.priority,onChange:e=>x((0,a.A)((0,a.A)({},u),{},{priority:e.target.value})),className:"border border-gray-300 rounded px-3 py-2",children:[(0,d.jsx)("option",{value:"",children:"All Priorities"}),(0,d.jsx)("option",{value:"High",children:"High"}),(0,d.jsx)("option",{value:"Medium",children:"Medium"}),(0,d.jsx)("option",{value:"Low",children:"Low"})]}),(0,d.jsx)("input",{type:"date",value:u.dueDate,onChange:e=>x((0,a.A)((0,a.A)({},u),{},{dueDate:e.target.value})),className:"border border-gray-300 rounded px-3 py-2"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsxs)("select",{value:m.criteria,onChange:e=>h((0,a.A)((0,a.A)({},m),{},{criteria:e.target.value})),className:"border border-gray-300 rounded px-3 py-2",children:[(0,d.jsx)("option",{value:"",children:"No Sorting"}),(0,d.jsx)("option",{value:"dueDate",children:"Sort by Due Date"}),(0,d.jsx)("option",{value:"priority",children:"Sort by Priority"}),(0,d.jsx)("option",{value:"status",children:"Sort by Status"})]}),(0,d.jsx)("button",{onClick:()=>h((0,a.A)((0,a.A)({},m),{},{direction:"asc"===m.direction?"desc":"asc"})),className:"bg-gray-200 hover:bg-gray-300 px-4 py-2 rounded",children:"asc"===m.direction?"Ascending":"Descending"})]})]}),t&&(0,d.jsx)("p",{className:"text-center text-gray-500 mt-4",children:"Loading tasks..."}),s&&(0,d.jsx)("p",{className:"text-center text-red-500 mt-4",children:s}),(0,d.jsx)("ul",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-6",children:p.map((e=>(0,d.jsx)(l,{task:e},e.id)))})]})},c=()=>(0,d.jsx)(o,{})}}]);
//# sourceMappingURL=781.5685849d.chunk.js.map